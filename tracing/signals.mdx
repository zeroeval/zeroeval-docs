---
title: "Signals"
description: "Capture real-world feedback and metrics to enrich your traces, spans, and sessions."
---

## What's a signal?

A **signal** is any piece of user feedback, behavior, or metric you care about ‚Äì thumbs-up, a 5-star rating, dwell time, task completion, error rates ‚Ä¶ you name it. Signals help you understand how your AI system performs in the real world by connecting user outcomes to your traces.

You can attach signals to:

- **Completions** (LLM responses)
- **Spans** (individual operations)
- **Sessions** (user interactions)
- **Traces** (entire request flows)

## Using signals in code

### With the Python SDK

<CodeGroup>
```python Python
import zeroeval as ze

# Initialize the tracer
ze.init(api_key="your-api-key")

# Start a span and add a signal
with ze.trace("user_query") as span:
    # Your AI logic here
    response = process_user_query(query)

    # Add a signal to the current span
    ze.set_signal("user_satisfaction", True)
    ze.set_signal("response_quality", 4.5)
    ze.set_signal("task_completed", "success")
```

```typescript TypeScript
import * as ze from 'zeroeval';

// Initialize the tracer
ze.init({ apiKey: "your-api-key" });

// Start a span
ze.withSpan({ name: "user_query" }, async () => {
    // Your AI logic here
    const response = await processUserQuery(query);

    // Note: Signals are not yet available in the TypeScript SDK
    // Use the API endpoint directly for now (see API section below)
});
```
</CodeGroup>

### Setting signals on different targets

<CodeGroup>
```python Python
# On the current span
ze.set_signal("helpful", True)

# On a specific span
span = ze.current_span()
ze.set_signal(span, {"rating": 5, "category": "excellent"})

# On the current trace
ze.set_trace_signal("conversion", True)

# On the current session
ze.set_session_signal("user_engaged", True)
```

```typescript TypeScript
// Note: Signal methods are not yet available in the TypeScript SDK
// Use the API endpoint directly for now:

const spanId = ze.getCurrentSpan()?.spanId;
const traceId = ze.getCurrentTrace();
const sessionId = ze.getCurrentSession();

// Make API calls to set signals
await fetch(`https://api.zeroeval.com/workspaces/${WORKSPACE_ID}/signals`, {
    method: 'POST',
    headers: {
        'Authorization': `Bearer ${API_KEY}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        span_id: spanId,
        name: "helpful",
        value: true
    })
});
```
</CodeGroup>

## API endpoint

For direct API calls, send signals to:

```
POST https://api.zeroeval.com/workspaces/<WORKSPACE_ID>/signals
```

Auth is the same bearer API key you use for tracing.

### Payload schema

| field         | type                           | required | notes                                          |
| ------------- | ------------------------------ | -------- | ---------------------------------------------- |
| completion_id | string                         | ‚ùå       | **OpenAI completion ID** (for LLM completions) |
| span_id       | string                         | ‚ùå       | **Span ID** (for specific spans)               |
| trace_id      | string                         | ‚ùå       | **Trace ID** (for entire traces)               |
| session_id    | string                         | ‚ùå       | **Session ID** (for user sessions)             |
| name          | string                         | ‚úÖ       | e.g. `user_satisfaction`                       |
| value         | string \| bool \| int \| float | ‚úÖ       | your data ‚Äì see examples below                 |

<Note>
  You must provide at least one of: `completion_id`, `span_id`, `trace_id`, or
  `session_id`.
</Note>

## Common signal patterns

Below are some quick copy-pasta snippets for the most common cases.

### 1. Binary feedback (üëç / üëé)

<CodeGroup>

```python Python SDK
import zeroeval as ze

# On current span
ze.set_signal("thumbs_up", True)

# On specific span
ze.set_signal(span, {"helpful": False})
```

```typescript TypeScript SDK
// Signal methods coming soon to TypeScript SDK
// For now, use the API directly:

const spanId = ze.getCurrentSpan()?.spanId;

await fetch(`https://api.zeroeval.com/workspaces/${WORKSPACE_ID}/signals`, {
    method: 'POST',
    headers: {
        'Authorization': `Bearer ${API_KEY}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        span_id: spanId,
        name: "thumbs_up",
        value: true  // or false
    })
});
```

```python API
import requests

payload = {
    "span_id": span.id,
    "name": "thumbs_up",
    "value": True  # or False
}
requests.post(
    f"https://api.zeroeval.com/workspaces/{WORKSPACE_ID}/signals",
    json=payload,
    headers={"Authorization": f"Bearer {ZE_API_KEY}"}
)
```

</CodeGroup>

### 2. Star rating (1‚Äì5)

<CodeGroup>

```python Python SDK
ze.set_signal("star_rating", 4)
```

```typescript TypeScript SDK
// Signal methods coming soon to TypeScript SDK
// For now, use the API directly:

const traceId = ze.getCurrentTrace();

await fetch(`https://api.zeroeval.com/workspaces/${WORKSPACE_ID}/signals`, {
    method: 'POST',
    headers: {
        'Authorization': `Bearer ${API_KEY}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        trace_id: traceId,
        name: "star_rating",
        value: 4  // any integer 1-5
    })
});
```

```js JavaScript API
fetch(`https://api.zeroeval.com/workspaces/${WORKSPACE_ID}/signals`, {
  method: "POST",
  headers: {
    Authorization: `Bearer ${ZE_API_KEY}`,
    "Content-Type": "application/json",
  },
  body: JSON.stringify({
    trace_id: trace.id,
    name: "star_rating",
    value: 4, // any integer 1‚Äì5
  }),
});
```

</CodeGroup>

### 3. Continuous metrics

<CodeGroup>

```python Python SDK
# Response time
ze.set_signal("response_time_ms", 1250.5)

# Task completion time
ze.set_signal("time_on_task_sec", 12.85)

# Accuracy score
ze.set_signal("accuracy", 0.94)
```

```typescript TypeScript SDK
// Signal methods coming soon to TypeScript SDK
// For now, use the API directly:

const sessionId = ze.getCurrentSession();

// Response time
await fetch(`https://api.zeroeval.com/workspaces/${WORKSPACE_ID}/signals`, {
    method: 'POST',
    headers: {
        'Authorization': `Bearer ${API_KEY}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        session_id: sessionId,
        name: "response_time_ms",
        value: 1250.5
    })
});
```

```python API
payload = {
    "session_id": session.id,
    "name": "time_on_task_sec",
    "value": 12.85  # float works too
}
```

</CodeGroup>

### 4. Categorical outcomes

<CodeGroup>

```python Python SDK
ze.set_signal("task_status", "success")
ze.set_signal("error_type", "timeout")
ze.set_signal("user_intent", "purchase")
```

```typescript TypeScript SDK
// Signal methods coming soon to TypeScript SDK
// For now, use the API directly:

const completionId = completion.id;  // from OpenAI response

await fetch(`https://api.zeroeval.com/workspaces/${WORKSPACE_ID}/signals`, {
    method: 'POST',
    headers: {
        'Authorization': `Bearer ${API_KEY}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        completion_id: completionId,
        name: "task_status",
        value: "success"  // could also be "retry" / "fail"
    })
});
```

```js JavaScript API
{
  completion_id: completion.id,
  name: "task_status",
  value: "success" // could also be "retry" / "fail"
}
```

</CodeGroup>

### 5. Session-level signals

<CodeGroup>
```python Python
# Track user engagement across an entire session
ze.set_session_signal("pages_visited", 5)
ze.set_session_signal("converted", True)
ze.set_session_signal("user_tier", "premium")
```

```typescript TypeScript
// Signal methods coming soon to TypeScript SDK
// For now, use the API directly:

const sessionId = ze.getCurrentSession();

// Track user engagement across an entire session
await fetch(`https://api.zeroeval.com/workspaces/${WORKSPACE_ID}/signals`, {
    method: 'POST',
    headers: {
        'Authorization': `Bearer ${API_KEY}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        session_id: sessionId,
        name: "pages_visited",
        value: 5
    })
});
```
</CodeGroup>

### 6. Trace-level signals

<CodeGroup>
```python Python
# Track outcomes for an entire request flow
ze.set_trace_signal("request_successful", True)
ze.set_trace_signal("total_cost", 0.045)
ze.set_trace_signal("model_used", "gpt-4o")
```

```typescript TypeScript
// Signal methods coming soon to TypeScript SDK
// For now, use the API directly:

const traceId = ze.getCurrentTrace();

// Track outcomes for an entire request flow
await fetch(`https://api.zeroeval.com/workspaces/${WORKSPACE_ID}/signals`, {
    method: 'POST',
    headers: {
        'Authorization': `Bearer ${API_KEY}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        trace_id: traceId,
        name: "request_successful",
        value: true
    })
});
```
</CodeGroup>

## Best practices

‚Ä¢ **Send signals as they happen** ‚Äì latency isn't an issue, we process them async  
‚Ä¢ **Re-use the same `name` consistently** ‚Äì that's how we aggregate and analyze  
‚Ä¢ **One target can have multiple signals** (different names)  
‚Ä¢ **Overwrite behavior** ‚Äì if you POST the same `(target_id, name)` twice, we'll overwrite the previous value  
‚Ä¢ **Use meaningful names** ‚Äì `user_satisfaction` is better than `signal1`  
‚Ä¢ **Choose appropriate targets** ‚Äì completion signals for LLM responses, session signals for user behavior

## Signal types

Signals are automatically categorized based on their values:

- **Boolean**: `true`/`false` values ‚Üí useful for success/failure, yes/no feedback
- **Numerical**: integers and floats ‚Üí useful for ratings, scores, durations, costs
- **Categorical**: strings ‚Üí useful for status, categories, error types

## Putting it all together

<CodeGroup>
```python Python
import zeroeval as ze

# Initialize tracing
ze.init(api_key="your-api-key")

# Start a session for user interaction
with ze.trace("user_chat_session", session_name="Customer Support") as session:

    # Process user query
    with ze.trace("process_query") as span:
        response = llm_client.chat.completions.create(...)

        # Signal on the LLM completion
        ze.set_signal("response_generated", True)
        ze.set_signal("response_length", len(response.choices[0].message.content))

    # Capture user feedback
    user_rating = get_user_feedback()  # Your feedback collection logic

    # Signal on the session
    ze.set_session_signal("user_rating", user_rating)
    ze.set_session_signal("issue_resolved", user_rating >= 4)

    # Signal on the entire trace
    ze.set_trace_signal("interaction_complete", True)
```

```typescript TypeScript
import * as ze from 'zeroeval';

// Initialize tracing
ze.init({ apiKey: "your-api-key" });

// Start a session for user interaction
await ze.withSpan({ 
    name: "user_chat_session", 
    sessionName: "Customer Support" 
}, async () => {
    
    // Process user query
    await ze.withSpan({ name: "process_query" }, async () => {
        const response = await llmClient.chat.completions.create(...);
        
        // Signal on the LLM completion (using API for now)
        const spanId = ze.getCurrentSpan()?.spanId;
        await fetch(`https://api.zeroeval.com/workspaces/${WORKSPACE_ID}/signals`, {
            method: 'POST',
            headers: {
                'Authorization': `Bearer ${API_KEY}`,
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                span_id: spanId,
                name: "response_generated",
                value: true
            })
        });
    });
    
    // Capture user feedback
    const userRating = await getUserFeedback();  // Your feedback collection logic
    
    // Signal on the session (using API for now)
    const sessionId = ze.getCurrentSession();
    await fetch(`https://api.zeroeval.com/workspaces/${WORKSPACE_ID}/signals`, {
        method: 'POST',
        headers: {
            'Authorization': `Bearer ${API_KEY}`,
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            session_id: sessionId,
            name: "user_rating",
            value: userRating
        })
    });
});
```
</CodeGroup>

That's it! Your signals will appear in the ZeroEval dashboard, helping you understand how your AI system performs in real-world scenarios.
